<script id="metaObject" type="text/x-jquery-tmpl">
    <div class="prop" caption="${data.caption}" {{if data.lineshow}}lineshow{{/if}} {{if data.hide}}style='display:none'{{/if}} path="${data.path}">
        <label >${data.caption}

        {{if data.designer || (array && data.editor)}}
            {{each data.designer}}
                <a  designer="${$value}" href="#" ></a>
            {{/each}}
            <a  designer="editor" href="#" style="display:none"></a>
        <a class="fullscr" href="#" title ="${data.path}"></a>

        {{/if}}</label>
        {{if array}}
            {{tmpl(data) "#metaPropArray"}}
        {{/if}}
        {{if data.editor}}
            {{tmpl(data) "#editor"}}
        {{/if}}        
    </div>
    

</script>

<script id="metaPropArray" type="text/x-jquery-tmpl">
    <fieldset class="zip array" caption="${caption}" {{if reference}}ref_type=${reference.type} ref_join=${reference.join} {{/if}} path="${path}"
        {{if typeof(editor) =="string"}} style = "display:none" {{/if}}>
        <legend><span >${caption111}</span> <a href="#" class="zip" style="text-decoration:none"></a> <a class="fullscr" href="#" title ="${path}"></a></legend>
        <span class="count" style="display:none"></span>
        {{each jsonvalue}}
            <div class="row zip unzip {{if tmplrow }}tmpl{{/if}} inline" caption="${$index}(${summary})" path ="${path}.${$index}" >
                <a href="#" class="delRow"></a>
                <span class="rowIndex">${$index}</span>) 
                <a href="#" class="zip" style="text-decoration:none"></a>
                <a class="fullscr" href="#" title ="${path}.${$index}"></a>

                {{if typeof $value == "string"}} {{tmpl($value) "#editor"}}
                {{else}} {{tmpl($value) "#metaObject"}} {{/if}}
            </div>
        {{/each}}
        
    </fieldset>
</script>

<script id="editor" type="text/x-jquery-tmpl">  
    {{if input }}
        <input type="${editor}" {{if editor == "checkbox" }}{{if value}}checked="checked" {{/if}}value="true"{{else}}value ="${value}"{{/if}} 
    {{else}}
        <${editor} 
    {{/if}}
    class="editor"
    {{if tmplrow }}field{{/if}}name='${name}' 
    {{if identity }} identity {{/if}}
    {{if (readonly||reference) }} readonly {{/if}}

    {{if input}}
        />
    {{else}}
        >
        {{if editor == "select" }}
            {{tmpl({selection: selection, selValue: value}) "#select-option"}}
        {{else}}
            ${value}
        {{/if}}
        </${editor}>
    {{/if}}

</script>

<script id="select-option" type="text/x-jquery-tmpl">  
    {{each selection}}
    <option value="${key}" {{if key == selValue}}selected="selected"{{/if}}>${value}</option>
    {{/each}}
    <option value="" {{if undefined==selValue}}selected="selected"{{/if}}></option>
</script> 


<script id="tpModuleUrl" type="text/x-jquery-tmpl">  
    <ul>

        <li><input name ="${name}" type="radio" value="stdreceipt">通用单据模块</li>
        <li><input name ="${name}" type="radio" value="stdquery">通用查询模块, 查询名<input class="queryName"></li>
        <li><input name ="${name}" type="radio" value="custom">特殊模块<input class="url"></li>
    </ul>
</script> 