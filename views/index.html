<div id="tabs" align="auto" layout="v">
    <ul align="top">
    </ul>
</div>
<div section="nav" style="padding: 5px;" align="auto" id="navtree" >
    <ul id="tree">
        <li class="open"><span class="folder">搜索</span></li>
        <li class="open"><span class="folder">捷径</span>
            <ul>
                <li><a href="#/data/doc?table=MetaTable&_id=4fb9e62362de5d0f208411ed&" title="tAcceptCoupon">tAcceptCoupon</a></li>
                <li><a href="#/data/doc?table=MetaModule&_id=507297f35722eb4838cde197&" title="收货对帐">收货对帐</a></li>
                <li><a href="#/data/doc?type=module&table=MetaModule&_id=507297f45722eb4838cde1bc&ModuleID=10013" title="发票录入及结算单审核">发票录入及结算单审核</a></li>
                
                <li><a href="#/demo/uidesigner" title="UI设计">UI设计</a></li>
            </ul>
        </li>
        <li data="type=root" _id=""><span class="folder">系统</span>
            <ul>
                <li fake=1></li>
            </ul>
        </li>
    </ul>
    {{partial "../public/javascripts/jquery.fitui/tmpl.jsoneditor.ejs"}}
</div>

<script>
    $(document).ready(function () {
        $("#tree").ajaxtree({ url: '/flowchart/tree', href: '#/data/doc',
            stateGroup: "tabtree",
            saveState: function (statestr) {
                alert(statestr);
            }, restoreState: function () {
                alert(1);
            }
        });
        $('#tabs').ajaxTabs({ a_selector: "#tree a",
            stateGroup: "tabtree",
            saveState: function (statestr) {
                alert(statestr);
            }, restoreState: function () {
                var opentabs = {{html tabstate}};
                for (var i in opentabs)
                    $.ajaxTab.openTab(opentabs[i].MetaType, opentabs[i].Url, opentabs[i].Text, false);
            },
            create: function (tab) {
                tab.attr('align', 'auto')
                    .attr('layout', 'v').css('padding', '0px').parent().layout();
                $.autoHeight({}, true);
            }
        });


    });
</script>
