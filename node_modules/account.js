var db = require('config').db();

var account = function (req) {
    this.data = req.session.user;
}

exports.account = account;

account.prototype = {
    getPrefData: function (projectName, callback) {
        db.collection('AccountProjectPref').findOne({ ProjectName: projectName, "Account": db.ObjectID(this.data._id) }, function (err, doc) {
            callback(doc?doc.LastState:null);
        });
    }
}