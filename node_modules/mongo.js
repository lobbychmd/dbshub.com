var util = require('util');
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var dburl = 'mongodb://MIS:MISSOLUTION@222.73.240.112/idc';


exports.connectionstring = dburl;
exports.connect = function (callback) {
    mongoose.connect(dburl, function (err) {
    });
}

exports.disconnect = function(callback){
  mongoose.disconnect(callback);
}

function validator_empty(v) {

    return true;//!!v || v === 0;
};


mongoose.model("MetaTable", new Schema({
    _id: String, AccountID: String, Inherited: String,
    TableName: { type: String, validate: [validator_empty, '模块ID不能为空'] },
    TableSummary: String,
    Columns: [{
        ColumnName: String,
        Caption: String,
        Summary: String,
        Type: String,
        //sSize: { type: Schema.Integer },
       // Precision: Schema.Integer,
        //Scale: Schema.Integer
    }]
    
}), "MetaTable");



